- job:
    name: nebulous-component-template-build-container-images
    parent: nebulous-build-container-images
    description: Build the container images.
    vars: &image_vars
      promote_container_image_job: nebulous-component-template-upload-container-images
      container_images:
        - context: java-spring-boot-demo
          registry: quay.io
          repository: quay.io/nebulous/component-template-java-spring-boot-demo

- job:
    name: nebulous-component-template-upload-container-images
    parent: nebulous-upload-container-images
    description: Build and upload the container images.
    vars: *image_vars

- job:
    name: nebulous-component-template-promote-container-images
    parent: nebulous-promote-container-images
    description: Promote previously uploaded container images.
    vars: *image_vars
